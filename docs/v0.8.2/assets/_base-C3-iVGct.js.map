{"version":3,"file":"_base-C3-iVGct.js","sources":["../../src/blocks/_base.js"],"sourcesContent":["/**\n * Base Web Component class providing common utilities for all components.\n * Extends HTMLElement with helper methods for DOM manipulation and styling.\n */\nexport class BaseComponent extends HTMLElement {\n\t#innerElement = null;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._internals = this.attachInternals?.() || null;\n\t}\n\n\t/**\n\t * Gets the inner element reference\n\t * @returns {HTMLElement|null}\n\t */\n\tget innerElement() {\n\t\treturn this.#innerElement;\n\t}\n\n\t/**\n\t * Sets the inner element reference\n\t * @param {HTMLElement|null} element - Element to store\n\t */\n\tset innerElement(element) {\n\t\tthis.#innerElement = element;\n\t}\n\n\t/**\n\t * Combines multiple class names, filtering out falsy values\n\t * @param {...(string|boolean|null|undefined)} classes - Class names to combine\n\t * @returns {string} Combined class string\n\t */\n\tstatic combineClassNames(...classes) {\n\t\treturn classes.flat(Infinity).filter(Boolean).join(\" \");\n\t}\n\n\t/**\n\t * Instance method for combining class names\n\t * @param {...(string|boolean|null|undefined)} classes - Class names to combine\n\t * @returns {string} Combined class string\n\t */\n\tcombineClassNames(...classes) {\n\t\treturn BaseComponent.combineClassNames(...classes);\n\t}\n\n\t/**\n\t * Alias for combineClassNames - combines class names filtering falsy values\n\t * @param {...(string|boolean|null|undefined)} classes - Class names to combine\n\t * @returns {string} Combined class string\n\t */\n\tclsx(...classes) {\n\t\treturn BaseComponent.combineClassNames(...classes);\n\t}\n\n\t/**\n\t * Creates an HTML element with attributes and children\n\t * @param {string} tagName - HTML tag name\n\t * @param {Object} attributes - Attributes and properties to set\n\t * @param {...(Node|string)} children - Child nodes or text content\n\t * @returns {HTMLElement} Created element\n\t */\n\tstatic createElement(tagName, attributes = {}, ...children) {\n\t\tconst element = document.createElement(tagName);\n\n\t\tfor (const [key, value] of Object.entries(attributes)) {\n\t\t\tif (value == null || value === false) continue;\n\n\t\t\tif (key === \"className\" || key === \"class\") {\n\t\t\t\telement.className = Array.isArray(value)\n\t\t\t\t\t? BaseComponent.combineClassNames(...value)\n\t\t\t\t\t: value;\n\t\t\t} else if (key === \"style\" && typeof value === \"object\") {\n\t\t\t\tObject.assign(element.style, value);\n\t\t\t} else if (key === \"dataset\") {\n\t\t\t\tObject.assign(element.dataset, value);\n\t\t\t} else if (key.startsWith(\"on\") && typeof value === \"function\") {\n\t\t\t\tconst eventName = key.slice(2).toLowerCase();\n\t\t\t\telement.addEventListener(eventName, value);\n\t\t\t} else if (key === \"ref\" && typeof value === \"function\") {\n\t\t\t\tvalue(element);\n\t\t\t} else if (value === true) {\n\t\t\t\telement.setAttribute(key, \"\");\n\t\t\t} else {\n\t\t\t\telement.setAttribute(key, String(value));\n\t\t\t}\n\t\t}\n\n\t\tfor (const child of children.flat(Infinity)) {\n\t\t\tif (child == null || child === false) continue;\n\t\t\tif (child instanceof Node) {\n\t\t\t\telement.appendChild(child);\n\t\t\t} else {\n\t\t\t\telement.appendChild(document.createTextNode(String(child)));\n\t\t\t}\n\t\t}\n\n\t\treturn element;\n\t}\n\n\t/**\n\t * Instance method for creating HTML elements\n\t * @param {string} tagName - HTML tag name\n\t * @param {Object} attributes - Attributes and properties to set\n\t * @param {...(Node|string)} children - Child nodes or text content\n\t * @returns {HTMLElement} Created element\n\t */\n\tcreateElement(tagName, attributes, ...children) {\n\t\treturn BaseComponent.createElement(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Alias for createElement - creates an HTML element\n\t * @param {string} tagName - HTML tag name\n\t * @param {Object} attributes - Attributes and properties to set\n\t * @param {...(Node|string)} children - Child nodes or text content\n\t * @returns {HTMLElement} Created element\n\t */\n\th(tagName, attributes, ...children) {\n\t\treturn BaseComponent.createElement(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Creates an SVG element with attributes and children\n\t * @param {string} tagName - SVG tag name\n\t * @param {Object} attributes - Attributes to set\n\t * @param {...(Node|string)} children - Child nodes\n\t * @returns {SVGElement} Created SVG element\n\t */\n\tstatic createSVGElement(tagName, attributes = {}, ...children) {\n\t\tconst element = document.createElementNS(\n\t\t\t\"http://www.w3.org/2000/svg\",\n\t\t\ttagName,\n\t\t);\n\n\t\tfor (const [key, value] of Object.entries(attributes)) {\n\t\t\tif (value == null || value === false) continue;\n\t\t\tif (key === \"className\" || key === \"class\") {\n\t\t\t\telement.setAttribute(\n\t\t\t\t\t\"class\",\n\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t? BaseComponent.combineClassNames(...value)\n\t\t\t\t\t\t: value,\n\t\t\t\t);\n\t\t\t} else if (value === true) {\n\t\t\t\telement.setAttribute(key, \"\");\n\t\t\t} else {\n\t\t\t\telement.setAttribute(key, String(value));\n\t\t\t}\n\t\t}\n\n\t\tfor (const child of children.flat(Infinity)) {\n\t\t\tif (child == null || child === false) continue;\n\t\t\tif (child instanceof Node) {\n\t\t\t\telement.appendChild(child);\n\t\t\t} else {\n\t\t\t\telement.appendChild(document.createTextNode(String(child)));\n\t\t\t}\n\t\t}\n\n\t\treturn element;\n\t}\n\n\t/**\n\t * Instance method for creating SVG elements\n\t * @param {string} tagName - SVG tag name\n\t * @param {Object} attributes - Attributes to set\n\t * @param {...(Node|string)} children - Child nodes\n\t * @returns {SVGElement} Created SVG element\n\t */\n\tcreateSVGElement(tagName, attributes, ...children) {\n\t\treturn BaseComponent.createSVGElement(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Alias for createSVGElement - creates an SVG element\n\t * @param {string} tagName - SVG tag name\n\t * @param {Object} attributes - Attributes to set\n\t * @param {...(Node|string)} children - Child nodes\n\t * @returns {SVGElement} Created SVG element\n\t */\n\tsvg(tagName, attributes, ...children) {\n\t\treturn BaseComponent.createSVGElement(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Creates a button or anchor element based on href presence\n\t * @param {string|null} href - Link URL (null creates a button)\n\t * @param {Object} attributes - Element attributes\n\t * @param {...(Node|string)} children - Child nodes\n\t * @returns {HTMLElement} Button or anchor element\n\t */\n\tcreateInteractiveElement(href, attributes, ...children) {\n\t\tconst tagName = href ? \"a\" : \"button\";\n\t\treturn this.createElement(\n\t\t\ttagName,\n\t\t\t{\n\t\t\t\t...attributes,\n\t\t\t\thref: href || undefined,\n\t\t\t\ttype: href ? undefined : \"button\",\n\t\t\t},\n\t\t\t...children,\n\t\t);\n\t}\n\n\t/**\n\t * Renders element preserving original child nodes\n\t * @param {string} tagName - HTML tag name\n\t * @param {Object} attributes - Element attributes\n\t * @returns {HTMLElement} Created element with preserved children\n\t */\n\trenderWithChildren(tagName, attributes) {\n\t\tconst children = Array.from(this.childNodes);\n\t\tthis.innerHTML = \"\";\n\t\tconst element = this.createElement(tagName, attributes, ...children);\n\t\tthis.appendChild(element);\n\t\treturn element;\n\t}\n\n\t/**\n\t * Sets up hover and active state tracking via data attributes\n\t * @param {HTMLElement} [targetElement] - Element to apply states to (defaults to innerElement)\n\t * @returns {void}\n\t */\n\tinitializeHoverStateTracking(targetElement = null) {\n\t\tconst target = targetElement || this.#innerElement;\n\t\tif (!target) return;\n\n\t\tthis.addEventListener(\"mouseenter\", () => {\n\t\t\ttarget.setAttribute(\"data-hover\", \"\");\n\t\t});\n\t\tthis.addEventListener(\"mouseleave\", () => {\n\t\t\ttarget.removeAttribute(\"data-hover\");\n\t\t});\n\t\tthis.addEventListener(\"mousedown\", () => {\n\t\t\ttarget.setAttribute(\"data-active\", \"\");\n\t\t});\n\t\tthis.addEventListener(\"mouseup\", () => {\n\t\t\ttarget.removeAttribute(\"data-active\");\n\t\t});\n\t}\n\n\t/**\n\t * Gets observed attribute value with type coercion\n\t * @param {string} name - Attribute name\n\t * @param {*} defaultValue - Default value if attribute not set\n\t * @returns {*} Coerced attribute value or default\n\t */\n\tgetAttr(name, defaultValue = null) {\n\t\tconst value = this.getAttribute(name);\n\t\tif (value === null) return defaultValue;\n\t\tif (defaultValue === true || defaultValue === false) {\n\t\t\treturn value !== \"false\" && value !== \"0\";\n\t\t}\n\t\tif (typeof defaultValue === \"number\") {\n\t\t\tconst numericValue = Number(value);\n\t\t\treturn Number.isNaN(numericValue) ? defaultValue : numericValue;\n\t\t}\n\t\treturn value;\n\t}\n\n\t/**\n\t * Sets data-* attributes for component state\n\t * @param {string} name - State name (without data- prefix)\n\t * @param {boolean|string} value - State value (false removes attribute)\n\t * @returns {void}\n\t */\n\tsetState(name, value) {\n\t\tif (value === false || value == null) {\n\t\t\tdelete this.dataset[name];\n\t\t} else if (value === true) {\n\t\t\tthis.dataset[name] = \"\";\n\t\t} else {\n\t\t\tthis.dataset[name] = value;\n\t\t}\n\t}\n\n\t/**\n\t * Dispatches a custom event with bubbling and composed enabled\n\t * @param {string} name - Event name\n\t * @param {*} detail - Event detail payload\n\t * @param {Object} options - Additional event options\n\t * @returns {void}\n\t */\n\temit(name, detail = null, options = {}) {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent(name, {\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t\tdetail,\n\t\t\t\t...options,\n\t\t\t}),\n\t\t);\n\t}\n\n\t/**\n\t * Returns a promise that resolves on the next animation frame\n\t * @returns {Promise<number>} Resolves with timestamp\n\t */\n\tnextFrame() {\n\t\treturn new Promise((resolve) => requestAnimationFrame(resolve));\n\t}\n\n\t/**\n\t * Animates an element between two style states\n\t * @param {HTMLElement} element - Element to transition\n\t * @param {Object} fromStyles - Starting styles\n\t * @param {Object} toStyles - Ending styles\n\t * @param {number} duration - Duration in milliseconds\n\t * @returns {Promise<void>} Resolves when transition completes\n\t */\n\tasync transition(element, fromStyles, toStyles, duration = 200) {\n\t\tObject.assign(element.style, fromStyles);\n\t\tawait this.nextFrame();\n\t\telement.style.transition = `all ${duration}ms ease`;\n\t\tObject.assign(element.style, toStyles);\n\t\treturn new Promise((resolve) => setTimeout(resolve, duration));\n\t}\n}\n\n/**\n * Registers a custom element if not already defined\n * @param {string} name - Element name (must contain hyphen)\n * @param {typeof HTMLElement} elementClass - Element class to register\n * @returns {void}\n */\nexport function defineElement(name, elementClass) {\n\tif (!customElements.get(name)) {\n\t\tcustomElements.define(name, elementClass);\n\t}\n}\n\nlet idCounter = 0;\n/**\n * Generates a unique ID with optional prefix\n * @param {string} prefix - ID prefix\n * @returns {string} Unique identifier\n */\nexport function uniqueId(prefix = \"ui\") {\n\treturn `${prefix}-${++idCounter}`;\n}\n\n/**\n * Creates a debounced version of a function\n * @param {Function} callback - Function to debounce\n * @param {number} delay - Delay in milliseconds\n * @returns {Function} Debounced function\n */\nexport function debounce(callback, delay) {\n\tlet timeoutId;\n\treturn function (...args) {\n\t\tclearTimeout(timeoutId);\n\t\ttimeoutId = setTimeout(() => callback.apply(this, args), delay);\n\t};\n}\n\n/**\n * Manages focus trapping within a container element for accessibility\n */\nexport class FocusTrap {\n\t#container = null;\n\t#previouslyFocusedElement = null;\n\t#boundHandleTabKeyNavigation = null;\n\n\t/**\n\t * Creates a new FocusTrap instance\n\t * @param {HTMLElement} container - Element to trap focus within\n\t */\n\tconstructor(container) {\n\t\tthis.#container = container;\n\t\tthis.#previouslyFocusedElement = null;\n\t\tthis.#boundHandleTabKeyNavigation = this.#handleTabKeyNavigation.bind(this);\n\t}\n\n\t/**\n\t * Activates focus trapping and focuses the first focusable element\n\t * @returns {void}\n\t */\n\tactivate() {\n\t\tthis.#previouslyFocusedElement = document.activeElement;\n\t\tdocument.addEventListener(\"keydown\", this.#boundHandleTabKeyNavigation);\n\t\tthis.#focusFirstElement();\n\t}\n\n\t/**\n\t * Deactivates focus trapping and restores previous focus\n\t * @returns {void}\n\t */\n\tdeactivate() {\n\t\tdocument.removeEventListener(\"keydown\", this.#boundHandleTabKeyNavigation);\n\t\tthis.#previouslyFocusedElement?.focus?.();\n\t}\n\n\t/**\n\t * Returns all focusable elements within the container\n\t * @returns {NodeList} Collection of focusable elements\n\t */\n\t#getTrappableFocusableElements() {\n\t\treturn this.#container.querySelectorAll(\n\t\t\t'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])',\n\t\t);\n\t}\n\n\t/**\n\t * Focuses the first focusable element in the container\n\t * @returns {void}\n\t */\n\t#focusFirstElement() {\n\t\tconst focusableElements = this.#getTrappableFocusableElements();\n\t\tfocusableElements[0]?.focus();\n\t}\n\n\t/**\n\t * Handles Tab key navigation to keep focus within container\n\t * @param {KeyboardEvent} event - Keyboard event\n\t * @returns {void}\n\t */\n\t#handleTabKeyNavigation(event) {\n\t\tif (event.key !== \"Tab\") return;\n\n\t\tconst focusableElements = Array.from(this.#getTrappableFocusableElements());\n\t\tif (focusableElements.length === 0) return;\n\n\t\tconst firstElement = focusableElements[0];\n\t\tconst lastElement = focusableElements[focusableElements.length - 1];\n\n\t\tif (event.shiftKey && document.activeElement === firstElement) {\n\t\t\tevent.preventDefault();\n\t\t\tlastElement.focus();\n\t\t} else if (!event.shiftKey && document.activeElement === lastElement) {\n\t\t\tevent.preventDefault();\n\t\t\tfirstElement.focus();\n\t\t}\n\t}\n}\n\n/**\n * Base URL for resolving internal paths\n * Uses Vite's BASE_URL which accounts for versioned deployments\n * @type {string}\n */\nconst BASE_URL = import.meta.env.BASE_URL || \"/\";\n\n/**\n * Resolves an internal path using the application base URL\n * Handles both absolute paths (starting with /) and relative paths\n * External URLs (http://, https://, //) are returned unchanged\n *\n * @param {string} path - The path to resolve\n * @returns {string} The resolved path with base URL prefix\n *\n * @example\n * // In development (base = \"/\")\n * resolvePath(\"/pages/about\") // Returns \"/pages/about\"\n *\n * @example\n * // In versioned build (base = \"/legacy_concierge/v0.5.0/\")\n * resolvePath(\"/pages/about\") // Returns \"/legacy_concierge/v0.5.0/pages/about\"\n */\nexport function resolvePath(path) {\n\t// Return unchanged if external URL or already has protocol\n\tif (!path || path.startsWith(\"http://\") || path.startsWith(\"https://\") || path.startsWith(\"//\")) {\n\t\treturn path;\n\t}\n\n\t// Return unchanged if it's a hash-only link\n\tif (path.startsWith(\"#\")) {\n\t\treturn path;\n\t}\n\n\t// Handle paths starting with /\n\tif (path.startsWith(\"/\")) {\n\t\t// Remove leading slash since BASE_URL ends with /\n\t\tconst cleanPath = path.slice(1);\n\t\treturn `${BASE_URL}${cleanPath}`;\n\t}\n\n\t// For relative paths, just prepend base URL\n\treturn `${BASE_URL}${path}`;\n}\n\n/**\n * Gets the current base URL for the application\n * @returns {string} The base URL\n */\nexport function getBaseUrl() {\n\treturn BASE_URL;\n}\n"],"names":["BaseComponent","#innerElement","element","classes","tagName","attributes","children","key","value","eventName","child","href","targetElement","target","name","defaultValue","numericValue","detail","options","resolve","fromStyles","toStyles","duration","defineElement","elementClass","FocusTrap","#container","#previouslyFocusedElement","#boundHandleTabKeyNavigation","container","#handleTabKeyNavigation","#focusFirstElement","#getTrappableFocusableElements","event","focusableElements","firstElement","lastElement","BASE_URL","resolvePath","path","cleanPath"],"mappings":"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"}