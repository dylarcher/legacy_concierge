{"version":3,"file":"_base-Cy1ntaVh.js","sources":["../../src/utilities/dom.js","../../src/utilities/events.js","../../src/blocks/_base.js"],"sourcesContent":["/**\n * DOM Utilities\n * Helper functions for DOM manipulation and element creation\n */\n\n/**\n * Combines multiple class names, filtering out falsy values\n * @param {...(string|boolean|null|undefined|Array)} classes - Class names to combine\n * @returns {string} Combined class string\n *\n * @example\n * clsx('btn', isActive && 'btn-active', null, 'btn-primary')\n * // Returns: 'btn btn-active btn-primary'\n */\nexport function clsx(...classes) {\n\treturn classes.flat(Infinity).filter(Boolean).join(\" \");\n}\n\n/**\n * Alias for clsx - combines class names filtering falsy values\n * @param {...(string|boolean|null|undefined|Array)} classes - Class names to combine\n * @returns {string} Combined class string\n */\nexport const combineClassNames = clsx;\n\n/**\n * Creates an HTML element with attributes and children\n * @param {string} tagName - HTML tag name\n * @param {Object} attributes - Attributes and properties to set\n * @param {...(Node|string)} children - Child nodes or text content\n * @returns {HTMLElement} Created element\n *\n * @example\n * createElement('div', { class: 'container', id: 'main' }, 'Hello', child)\n */\nexport function createElement(tagName, attributes = {}, ...children) {\n\tconst element = document.createElement(tagName);\n\n\tfor (const [key, value] of Object.entries(attributes)) {\n\t\tif (value == null || value === false) continue;\n\n\t\tif (key === \"className\" || key === \"class\") {\n\t\t\telement.className = Array.isArray(value) ? clsx(...value) : value;\n\t\t} else if (key === \"style\" && typeof value === \"object\") {\n\t\t\tObject.assign(element.style, value);\n\t\t} else if (key === \"dataset\") {\n\t\t\tObject.assign(element.dataset, value);\n\t\t} else if (key.startsWith(\"on\") && typeof value === \"function\") {\n\t\t\tconst eventName = key.slice(2).toLowerCase();\n\t\t\telement.addEventListener(eventName, value);\n\t\t} else if (key === \"ref\" && typeof value === \"function\") {\n\t\t\tvalue(element);\n\t\t} else if (value === true) {\n\t\t\telement.setAttribute(key, \"\");\n\t\t} else {\n\t\t\telement.setAttribute(key, String(value));\n\t\t}\n\t}\n\n\tfor (const child of children.flat(Infinity)) {\n\t\tif (child == null || child === false) continue;\n\t\tif (child instanceof Node) {\n\t\t\telement.appendChild(child);\n\t\t} else {\n\t\t\telement.appendChild(document.createTextNode(String(child)));\n\t\t}\n\t}\n\n\treturn element;\n}\n\n/**\n * Shorthand alias for createElement\n * @param {string} tagName - HTML tag name\n * @param {Object} attributes - Attributes and properties to set\n * @param {...(Node|string)} children - Child nodes or text content\n * @returns {HTMLElement} Created element\n */\nexport const h = createElement;\n\n/**\n * Creates an SVG element with attributes and children\n * @param {string} tagName - SVG tag name\n * @param {Object} attributes - Attributes to set\n * @param {...(Node|string)} children - Child nodes\n * @returns {SVGElement} Created SVG element\n *\n * @example\n * createSVGElement('svg', { viewBox: '0 0 24 24' },\n *   createSVGElement('path', { d: 'M12 0...' })\n * )\n */\nexport function createSVGElement(tagName, attributes = {}, ...children) {\n\tconst element = document.createElementNS(\n\t\t\"http://www.w3.org/2000/svg\",\n\t\ttagName,\n\t);\n\n\tfor (const [key, value] of Object.entries(attributes)) {\n\t\tif (value == null || value === false) continue;\n\t\tif (key === \"className\" || key === \"class\") {\n\t\t\telement.setAttribute(\n\t\t\t\t\"class\",\n\t\t\t\tArray.isArray(value) ? clsx(...value) : value,\n\t\t\t);\n\t\t} else if (value === true) {\n\t\t\telement.setAttribute(key, \"\");\n\t\t} else {\n\t\t\telement.setAttribute(key, String(value));\n\t\t}\n\t}\n\n\tfor (const child of children.flat(Infinity)) {\n\t\tif (child == null || child === false) continue;\n\t\tif (child instanceof Node) {\n\t\t\telement.appendChild(child);\n\t\t} else {\n\t\t\telement.appendChild(document.createTextNode(String(child)));\n\t\t}\n\t}\n\n\treturn element;\n}\n\n/**\n * Shorthand alias for createSVGElement\n * @param {string} tagName - SVG tag name\n * @param {Object} attributes - Attributes to set\n * @param {...(Node|string)} children - Child nodes\n * @returns {SVGElement} Created SVG element\n */\nexport const svg = createSVGElement;\n\n/**\n * Creates a button or anchor element based on href presence\n * @param {string|null} href - Link URL (null creates a button)\n * @param {Object} attributes - Element attributes\n * @param {...(Node|string)} children - Child nodes\n * @returns {HTMLElement} Button or anchor element\n *\n * @example\n * createInteractiveElement('/page', { class: 'btn' }, 'Click me')\n * // Returns: <a href=\"/page\" class=\"btn\">Click me</a>\n *\n * createInteractiveElement(null, { class: 'btn' }, 'Click me')\n * // Returns: <button type=\"button\" class=\"btn\">Click me</button>\n */\nexport function createInteractiveElement(href, attributes, ...children) {\n\tconst tagName = href ? \"a\" : \"button\";\n\treturn createElement(\n\t\ttagName,\n\t\t{\n\t\t\t...attributes,\n\t\t\thref: href || undefined,\n\t\t\ttype: href ? undefined : \"button\",\n\t\t},\n\t\t...children,\n\t);\n}\n\n/**\n * Renders element preserving original child nodes\n * @param {HTMLElement} container - Container element to render into\n * @param {string} tagName - HTML tag name\n * @param {Object} attributes - Element attributes\n * @returns {HTMLElement} Created element with preserved children\n */\nexport function renderWithChildren(container, tagName, attributes) {\n\tconst children = Array.from(container.childNodes);\n\tcontainer.innerHTML = \"\";\n\tconst element = createElement(tagName, attributes, ...children);\n\tcontainer.appendChild(element);\n\treturn element;\n}\n\nlet idCounter = 0;\n\n/**\n * Generates a unique ID with optional prefix\n * @param {string} prefix - ID prefix\n * @returns {string} Unique identifier\n *\n * @example\n * uniqueId('btn') // Returns: 'btn-1'\n * uniqueId('btn') // Returns: 'btn-2'\n */\nexport function uniqueId(prefix = \"ui\") {\n\treturn `${prefix}-${++idCounter}`;\n}\n\n/**\n * Gets attribute value with type coercion\n * @param {HTMLElement} element - Element to get attribute from\n * @param {string} name - Attribute name\n * @param {*} defaultValue - Default value if attribute not set\n * @returns {*} Coerced attribute value or default\n *\n * @example\n * getAttr(element, 'disabled', false) // Returns boolean\n * getAttr(element, 'count', 0) // Returns number\n * getAttr(element, 'label', 'default') // Returns string\n */\nexport function getAttr(element, name, defaultValue = null) {\n\tconst value = element.getAttribute(name);\n\tif (value === null) return defaultValue;\n\tif (defaultValue === true || defaultValue === false) {\n\t\treturn value !== \"false\" && value !== \"0\";\n\t}\n\tif (typeof defaultValue === \"number\") {\n\t\tconst numericValue = Number(value);\n\t\treturn Number.isNaN(numericValue) ? defaultValue : numericValue;\n\t}\n\treturn value;\n}\n\n/**\n * Sets data-* attributes for component state\n * @param {HTMLElement} element - Element to set state on\n * @param {string} name - State name (without data- prefix)\n * @param {boolean|string} value - State value (false removes attribute)\n * @returns {void}\n *\n * @example\n * setState(element, 'active', true) // Sets data-active=\"\"\n * setState(element, 'active', false) // Removes data-active\n * setState(element, 'count', '5') // Sets data-count=\"5\"\n */\nexport function setState(element, name, value) {\n\tif (value === false || value == null) {\n\t\tdelete element.dataset[name];\n\t} else if (value === true) {\n\t\telement.dataset[name] = \"\";\n\t} else {\n\t\telement.dataset[name] = value;\n\t}\n}\n\n/**\n * Selector for focusable elements\n * @type {string}\n */\nexport const FOCUSABLE_SELECTOR =\n\t'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n\n/**\n * Gets all focusable elements within a container\n * @param {HTMLElement} container - Container element\n * @returns {NodeList} Collection of focusable elements\n */\nexport function getFocusableElements(container) {\n\treturn container.querySelectorAll(FOCUSABLE_SELECTOR);\n}\n","/**\n * Event Utilities\n * Helper functions for event handling, dispatching, and state management\n */\n\n/**\n * Creates a debounced version of a function\n * @param {Function} callback - Function to debounce\n * @param {number} delay - Delay in milliseconds\n * @returns {Function} Debounced function\n *\n * @example\n * const debouncedSearch = debounce((query) => search(query), 300);\n * input.addEventListener('input', (e) => debouncedSearch(e.target.value));\n */\nexport function debounce(callback, delay) {\n\tlet timeoutId;\n\treturn function (...args) {\n\t\tclearTimeout(timeoutId);\n\t\ttimeoutId = setTimeout(() => callback.apply(this, args), delay);\n\t};\n}\n\n/**\n * Creates a throttled version of a function\n * @param {Function} callback - Function to throttle\n * @param {number} limit - Minimum time between calls in milliseconds\n * @returns {Function} Throttled function\n *\n * @example\n * const throttledScroll = throttle(() => updatePosition(), 100);\n * window.addEventListener('scroll', throttledScroll);\n */\nexport function throttle(callback, limit) {\n\tlet inThrottle;\n\treturn function (...args) {\n\t\tif (!inThrottle) {\n\t\t\tcallback.apply(this, args);\n\t\t\tinThrottle = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tinThrottle = false;\n\t\t\t}, limit);\n\t\t}\n\t};\n}\n\n/**\n * Dispatches a custom event with bubbling and composed enabled\n * @param {HTMLElement} element - Element to dispatch event from\n * @param {string} name - Event name\n * @param {*} detail - Event detail payload\n * @param {Object} options - Additional event options\n * @returns {boolean} False if event was cancelled, true otherwise\n *\n * @example\n * emit(button, 'button-click', { id: 1 });\n */\nexport function emit(element, name, detail = null, options = {}) {\n\treturn element.dispatchEvent(\n\t\tnew CustomEvent(name, {\n\t\t\tbubbles: true,\n\t\t\tcomposed: true,\n\t\t\tdetail,\n\t\t\t...options,\n\t\t}),\n\t);\n}\n\n/**\n * Creates an event emitter bound to an element\n * @param {HTMLElement} element - Element to bind emitter to\n * @returns {Function} Bound emit function\n *\n * @example\n * const emitEvent = createEmitter(this);\n * emitEvent('dialog-open', { timestamp: Date.now() });\n */\nexport function createEmitter(element) {\n\treturn (name, detail = null, options = {}) =>\n\t\temit(element, name, detail, options);\n}\n\n/**\n * Sets up hover and active state tracking via data attributes\n * @param {HTMLElement} element - Element to track hover/active states on\n * @param {HTMLElement} [targetElement] - Element to apply data attributes to (defaults to element)\n * @param {Object} [options] - Configuration options\n * @param {boolean} [options.disabled] - Whether to check for disabled state\n * @returns {Function} Cleanup function to remove listeners\n *\n * @example\n * const cleanup = initializeHoverStateTracking(button, button.innerElement);\n * // Later: cleanup();\n */\nexport function initializeHoverStateTracking(\n\telement,\n\ttargetElement = null,\n\toptions = {},\n) {\n\tconst target = targetElement || element;\n\tconst { disabled = false } = options;\n\n\tconst checkDisabled = () => disabled && element.hasAttribute(\"disabled\");\n\n\tconst handleMouseEnter = () => {\n\t\tif (!checkDisabled()) {\n\t\t\ttarget.setAttribute(\"data-hover\", \"\");\n\t\t}\n\t};\n\n\tconst handleMouseLeave = () => {\n\t\ttarget.removeAttribute(\"data-hover\");\n\t\ttarget.removeAttribute(\"data-active\");\n\t};\n\n\tconst handleMouseDown = () => {\n\t\tif (!checkDisabled()) {\n\t\t\ttarget.setAttribute(\"data-active\", \"\");\n\t\t}\n\t};\n\n\tconst handleMouseUp = () => {\n\t\ttarget.removeAttribute(\"data-active\");\n\t};\n\n\telement.addEventListener(\"mouseenter\", handleMouseEnter);\n\telement.addEventListener(\"mouseleave\", handleMouseLeave);\n\telement.addEventListener(\"mousedown\", handleMouseDown);\n\telement.addEventListener(\"mouseup\", handleMouseUp);\n\n\t// Return cleanup function\n\treturn () => {\n\t\telement.removeEventListener(\"mouseenter\", handleMouseEnter);\n\t\telement.removeEventListener(\"mouseleave\", handleMouseLeave);\n\t\telement.removeEventListener(\"mousedown\", handleMouseDown);\n\t\telement.removeEventListener(\"mouseup\", handleMouseUp);\n\t};\n}\n\n/**\n * Creates an outside click handler\n * @param {HTMLElement} element - Element to check clicks against\n * @param {Function} callback - Callback when clicked outside\n * @returns {Function} Cleanup function to remove listener\n *\n * @example\n * const cleanup = onClickOutside(dropdown, () => dropdown.close());\n * // Later: cleanup();\n */\nexport function onClickOutside(element, callback) {\n\tconst handler = (event) => {\n\t\tif (!element.contains(event.target)) {\n\t\t\tcallback(event);\n\t\t}\n\t};\n\n\tdocument.addEventListener(\"click\", handler);\n\n\treturn () => {\n\t\tdocument.removeEventListener(\"click\", handler);\n\t};\n}\n\n/**\n * Adds an event listener that automatically removes itself after firing once\n * @param {HTMLElement} element - Element to add listener to\n * @param {string} eventName - Event name\n * @param {Function} callback - Event handler\n * @param {Object} options - Event listener options\n * @returns {Function} Function to manually remove the listener\n */\nexport function once(element, eventName, callback, options = {}) {\n\tconst handler = (event) => {\n\t\tcallback(event);\n\t\telement.removeEventListener(eventName, handler, options);\n\t};\n\n\telement.addEventListener(eventName, handler, options);\n\n\treturn () => {\n\t\telement.removeEventListener(eventName, handler, options);\n\t};\n}\n\n/**\n * Creates a controller for managing multiple event listeners\n * @returns {Object} Controller with add, remove, and clear methods\n *\n * @example\n * const events = createEventController();\n * events.add(button, 'click', handler);\n * events.add(input, 'change', handler);\n * // Later: events.clear(); // Removes all listeners\n */\nexport function createEventController() {\n\tconst listeners = [];\n\n\treturn {\n\t\tadd(element, eventName, callback, options = {}) {\n\t\t\telement.addEventListener(eventName, callback, options);\n\t\t\tlisteners.push({ element, eventName, callback, options });\n\t\t},\n\n\t\tremove(element, eventName, callback, options = {}) {\n\t\t\telement.removeEventListener(eventName, callback, options);\n\t\t\tconst index = listeners.findIndex(\n\t\t\t\t(l) =>\n\t\t\t\t\tl.element === element &&\n\t\t\t\t\tl.eventName === eventName &&\n\t\t\t\t\tl.callback === callback,\n\t\t\t);\n\t\t\tif (index !== -1) {\n\t\t\t\tlisteners.splice(index, 1);\n\t\t\t}\n\t\t},\n\n\t\tclear() {\n\t\t\tfor (const { element, eventName, callback, options } of listeners) {\n\t\t\t\telement.removeEventListener(eventName, callback, options);\n\t\t\t}\n\t\t\tlisteners.length = 0;\n\t\t},\n\t};\n}\n","/**\n * Base Web Component class providing common utilities for all components.\n * Extends HTMLElement with helper methods for DOM manipulation and styling.\n */\n\n// Import utilities for use in BaseComponent and re-export for backward compatibility\nimport {\n\tclsx,\n\tcreateElement as createElementFn,\n\tcreateInteractiveElement as createInteractiveElementFn,\n\tcreateSVGElement as createSVGElementFn,\n\trenderWithChildren as renderWithChildrenFn,\n\tuniqueId,\n} from \"../utilities/dom.js\";\nimport { initializeHoverStateTracking as initHoverTracking } from \"../utilities/events.js\";\nimport { FocusTrap, KEYS } from \"../utilities/keyboard.js\";\n\n// Re-export utilities for backward compatibility\nexport { FocusTrap, KEYS, uniqueId };\n\n/**\n * Base component class for all web components\n */\nexport class BaseComponent extends HTMLElement {\n\t#innerElement = null;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._internals = this.attachInternals?.() || null;\n\t}\n\n\t/**\n\t * Gets the inner element reference\n\t * @returns {HTMLElement|null}\n\t */\n\tget innerElement() {\n\t\treturn this.#innerElement;\n\t}\n\n\t/**\n\t * Sets the inner element reference\n\t * @param {HTMLElement|null} element - Element to store\n\t */\n\tset innerElement(element) {\n\t\tthis.#innerElement = element;\n\t}\n\n\t/**\n\t * Combines multiple class names, filtering out falsy values\n\t * @param {...(string|boolean|null|undefined)} classes - Class names to combine\n\t * @returns {string} Combined class string\n\t */\n\tstatic combineClassNames(...classes) {\n\t\treturn clsx(...classes);\n\t}\n\n\t/**\n\t * Instance method for combining class names\n\t * @param {...(string|boolean|null|undefined)} classes - Class names to combine\n\t * @returns {string} Combined class string\n\t */\n\tcombineClassNames(...classes) {\n\t\treturn clsx(...classes);\n\t}\n\n\t/**\n\t * Alias for combineClassNames - combines class names filtering falsy values\n\t * @param {...(string|boolean|null|undefined)} classes - Class names to combine\n\t * @returns {string} Combined class string\n\t */\n\tclsx(...classes) {\n\t\treturn clsx(...classes);\n\t}\n\n\t/**\n\t * Creates an HTML element with attributes and children\n\t * @param {string} tagName - HTML tag name\n\t * @param {Object} attributes - Attributes and properties to set\n\t * @param {...(Node|string)} children - Child nodes or text content\n\t * @returns {HTMLElement} Created element\n\t */\n\tstatic createElement(tagName, attributes = {}, ...children) {\n\t\treturn createElementFn(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Instance method for creating HTML elements\n\t * @param {string} tagName - HTML tag name\n\t * @param {Object} attributes - Attributes and properties to set\n\t * @param {...(Node|string)} children - Child nodes or text content\n\t * @returns {HTMLElement} Created element\n\t */\n\tcreateElement(tagName, attributes, ...children) {\n\t\treturn BaseComponent.createElement(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Alias for createElement - creates an HTML element\n\t * @param {string} tagName - HTML tag name\n\t * @param {Object} attributes - Attributes and properties to set\n\t * @param {...(Node|string)} children - Child nodes or text content\n\t * @returns {HTMLElement} Created element\n\t */\n\th(tagName, attributes, ...children) {\n\t\treturn BaseComponent.createElement(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Creates an SVG element with attributes and children\n\t * @param {string} tagName - SVG tag name\n\t * @param {Object} attributes - Attributes to set\n\t * @param {...(Node|string)} children - Child nodes\n\t * @returns {SVGElement} Created SVG element\n\t */\n\tstatic createSVGElement(tagName, attributes = {}, ...children) {\n\t\treturn createSVGElementFn(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Instance method for creating SVG elements\n\t * @param {string} tagName - SVG tag name\n\t * @param {Object} attributes - Attributes to set\n\t * @param {...(Node|string)} children - Child nodes\n\t * @returns {SVGElement} Created SVG element\n\t */\n\tcreateSVGElement(tagName, attributes, ...children) {\n\t\treturn BaseComponent.createSVGElement(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Alias for createSVGElement - creates an SVG element\n\t * @param {string} tagName - SVG tag name\n\t * @param {Object} attributes - Attributes to set\n\t * @param {...(Node|string)} children - Child nodes\n\t * @returns {SVGElement} Created SVG element\n\t */\n\tsvg(tagName, attributes, ...children) {\n\t\treturn BaseComponent.createSVGElement(tagName, attributes, ...children);\n\t}\n\n\t/**\n\t * Creates a button or anchor element based on href presence\n\t * @param {string|null} href - Link URL (null creates a button)\n\t * @param {Object} attributes - Element attributes\n\t * @param {...(Node|string)} children - Child nodes\n\t * @returns {HTMLElement} Button or anchor element\n\t */\n\tcreateInteractiveElement(href, attributes, ...children) {\n\t\treturn createInteractiveElementFn(href, attributes, ...children);\n\t}\n\n\t/**\n\t * Renders element preserving original child nodes\n\t * @param {string} tagName - HTML tag name\n\t * @param {Object} attributes - Element attributes\n\t * @returns {HTMLElement} Created element with preserved children\n\t */\n\trenderWithChildren(tagName, attributes) {\n\t\treturn renderWithChildrenFn(this, tagName, attributes);\n\t}\n\n\t/**\n\t * Sets up hover and active state tracking via data attributes\n\t * @param {HTMLElement} [targetElement] - Element to apply states to (defaults to innerElement)\n\t * @returns {Function} Cleanup function to remove listeners\n\t */\n\tinitializeHoverStateTracking(targetElement = null) {\n\t\tconst target = targetElement || this.#innerElement;\n\t\tif (!target) return () => {};\n\t\treturn initHoverTracking(this, target);\n\t}\n\n\t/**\n\t * Gets observed attribute value with type coercion\n\t * @param {string} name - Attribute name\n\t * @param {*} defaultValue - Default value if attribute not set\n\t * @returns {*} Coerced attribute value or default\n\t */\n\tgetAttr(name, defaultValue = null) {\n\t\tconst value = this.getAttribute(name);\n\t\tif (value === null) return defaultValue;\n\t\tif (defaultValue === true || defaultValue === false) {\n\t\t\treturn value !== \"false\" && value !== \"0\";\n\t\t}\n\t\tif (typeof defaultValue === \"number\") {\n\t\t\tconst numericValue = Number(value);\n\t\t\treturn Number.isNaN(numericValue) ? defaultValue : numericValue;\n\t\t}\n\t\treturn value;\n\t}\n\n\t/**\n\t * Sets data-* attributes for component state\n\t * @param {string} name - State name (without data- prefix)\n\t * @param {boolean|string} value - State value (false removes attribute)\n\t * @returns {void}\n\t */\n\tsetState(name, value) {\n\t\tif (value === false || value == null) {\n\t\t\tdelete this.dataset[name];\n\t\t} else if (value === true) {\n\t\t\tthis.dataset[name] = \"\";\n\t\t} else {\n\t\t\tthis.dataset[name] = value;\n\t\t}\n\t}\n\n\t/**\n\t * Dispatches a custom event with bubbling and composed enabled\n\t * @param {string} name - Event name\n\t * @param {*} detail - Event detail payload\n\t * @param {Object} options - Additional event options\n\t * @returns {void}\n\t */\n\temit(name, detail = null, options = {}) {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent(name, {\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t\tdetail,\n\t\t\t\t...options,\n\t\t\t}),\n\t\t);\n\t}\n\n\t/**\n\t * Returns a promise that resolves on the next animation frame\n\t * @returns {Promise<number>} Resolves with timestamp\n\t */\n\tnextFrame() {\n\t\treturn new Promise((resolve) => requestAnimationFrame(resolve));\n\t}\n\n\t/**\n\t * Animates an element between two style states\n\t * @param {HTMLElement} element - Element to transition\n\t * @param {Object} fromStyles - Starting styles\n\t * @param {Object} toStyles - Ending styles\n\t * @param {number} duration - Duration in milliseconds\n\t * @returns {Promise<void>} Resolves when transition completes\n\t */\n\tasync transition(element, fromStyles, toStyles, duration = 200) {\n\t\tObject.assign(element.style, fromStyles);\n\t\tawait this.nextFrame();\n\t\telement.style.transition = `all ${duration}ms ease`;\n\t\tObject.assign(element.style, toStyles);\n\t\treturn new Promise((resolve) => setTimeout(resolve, duration));\n\t}\n}\n\n/**\n * Registers a custom element if not already defined\n * @param {string} name - Element name (must contain hyphen)\n * @param {typeof HTMLElement} elementClass - Element class to register\n * @returns {void}\n */\nexport function defineElement(name, elementClass) {\n\tif (!customElements.get(name)) {\n\t\tcustomElements.define(name, elementClass);\n\t}\n}\n\n/**\n * Base URL for resolving internal paths\n * Uses Vite's BASE_URL which accounts for versioned deployments\n * @type {string}\n */\nconst BASE_URL = import.meta.env.BASE_URL || \"/\";\n\n/**\n * Resolves an internal path using the application base URL\n * Handles both absolute paths (starting with /) and relative paths\n * External URLs (http://, https://, //) are returned unchanged\n *\n * @param {string} path - The path to resolve\n * @returns {string} The resolved path with base URL prefix\n *\n * @example\n * // In development (base = \"/\")\n * resolvePath(\"/pages/about\") // Returns \"/pages/about\"\n *\n * @example\n * // In versioned build (base = \"/legacy_concierge/v0.5.0/\")\n * resolvePath(\"/pages/about\") // Returns \"/legacy_concierge/v0.5.0/pages/about\"\n */\nexport function resolvePath(path) {\n\t// Return unchanged if external URL or already has protocol\n\tif (\n\t\t!path ||\n\t\tpath.startsWith(\"http://\") ||\n\t\tpath.startsWith(\"https://\") ||\n\t\tpath.startsWith(\"//\")\n\t) {\n\t\treturn path;\n\t}\n\n\t// Return unchanged if it's a hash-only link\n\tif (path.startsWith(\"#\")) {\n\t\treturn path;\n\t}\n\n\t// Handle paths starting with /\n\tif (path.startsWith(\"/\")) {\n\t\t// Remove leading slash since BASE_URL ends with /\n\t\tconst cleanPath = path.slice(1);\n\t\treturn `${BASE_URL}${cleanPath}`;\n\t}\n\n\t// For relative paths, just prepend base URL\n\treturn `${BASE_URL}${path}`;\n}\n\n/**\n * Gets the current base URL for the application\n * @returns {string} The base URL\n */\nexport function getBaseUrl() {\n\treturn BASE_URL;\n}\n"],"names":["clsx","classes","createElement","tagName","attributes","children","element","key","value","eventName","child","createSVGElement","createInteractiveElement","href","renderWithChildren","container","FOCUSABLE_SELECTOR","getFocusableElements","initializeHoverStateTracking","targetElement","options","target","disabled","checkDisabled","handleMouseEnter","handleMouseLeave","handleMouseDown","handleMouseUp","BaseComponent","#innerElement","createElementFn","createSVGElementFn","createInteractiveElementFn","renderWithChildrenFn","initHoverTracking","name","defaultValue","numericValue","detail","resolve","fromStyles","toStyles","duration","defineElement","elementClass","BASE_URL","resolvePath","path","cleanPath"],"mappings":"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"}